---
layout: post
title: "ìš°ì•„í•œ í…Œí¬ëŸ¬ë‹3ê¸° React&TypeScript(2)"
date: 2020-10-18
author: Eunbi
tags:  ìš°ì•„í•œí…Œí¬ëŸ¬ë‹ ë¹„ë™ê¸° closure this redex
cover: "/assets/img/woowa/cover.jpg"
---

# Day2

# ì˜¤ëŠ˜ ê°•ì˜ ì£¼ì œ

- [Javascript í›‘ì–´ë³´ê¸°](#Javascriptí›‘ì–´ë³´ê¸°)
- [Reduxë¥¼ ë§Œë“¤ì–´ë³´ì](#Reduxë¥¼ë§Œë“¤ì–´ë³´ì)


# <a name="Javascriptí›‘ì–´ë³´ê¸°">Javascript í›‘ì–´ë³´ê¸°</a>

<div class="idea">
javascriptì—ì„œ ê±°ì˜ ëª¨ë“  ê²ƒì€ ê°’ì´ë‹¤. 
<b> ê°’</b>ì´ë¼ê³  ì •ì˜í•œ ê²ƒì„ ë³€ìˆ˜ì— ë„£ì„ ìˆ˜ ìˆë‹¤.
</div>
<br/>

xë¼ëŠ” ë³€ìˆ˜ì— 10ì´ë¼ëŠ” ê°’ì„ ë„£ì„ ìˆ˜ ìˆë‹¤.
```js
let x = 10;
```

javascriptì—ì„œ ëª¨ë“  í•¨ìˆ˜ëŠ” **ê°’**ì„ ë°˜í™˜í•˜ê²Œ ë˜ì–´ìˆë‹¤.

return ì´ ìˆë‹¤ë©´ í•´ë‹¹ ê°’ì„ ë°˜í™˜í•˜ê³ , ì•„ë‹ê²½ìš° undifinedë¥¼ ë°˜í™˜í•œë‹¤.

```js
function foo() {} //return undifined;

function bar() {
	return 0 ;
} // => í•¨ìˆ˜ ì •ì˜ ë¬¸ (ê°’) -> ë¬¸ ë’¤ì— ;ì„ ë¶™ì´ì§€ ì•ŠìŒ

const bar = function bar() {}; // => í•¨ìˆ˜ ì •ì˜ ì‹

bar(); 
```


í•¨ìˆ˜ë¥¼ ê°’ìœ¼ë¡œ ì·¨ê¸‰í•  ë• ì´ë¦„ì„ ìƒëµ í•  ìˆ˜ ìˆë‹¤. 
ì´ëŸ¬í•œ í•¨ìˆ˜ë¥¼ **ìµëª… í•¨ìˆ˜** ë¼ê³  í•˜ë©° IIFE(ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜)ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•œë‹¤.
ì¬ê·€í˜¸ì¶œí•  ë•ŒëŠ” ì´ë¦„ì„ ìƒëµí•˜ì§€ ì•ŠëŠ”ë‹¤.

```js
const bar = function bar() {}; // => í•¨ìˆ˜ ì •ì˜ ì‹
bar(); //const barì„ í˜¸ì¶œí•œê²ƒ
```

function bar â†’ ê°’ìœ¼ë¡œ ì—¬ê²¼ê¸° ë•Œë¬¸ì— ì´ë¦„ ìƒëµê°€ëŠ¥ í•˜ë‹¤.

```js
const bar = function() {};
```

<br/>

## ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜(IIFE)

ë‹¨ í•œ ë²ˆë§Œ ì‹¤í–‰í•  ë•Œ ì‚¬ìš©í•œë‹¤.

javascriptì—ì„œ ()ë¥¼ ì¹˜ê²Œ ë˜ë©´ ê°’ìœ¼ë¡œ ì—¬ê¸°ê³  ì´ë¦„ì„ ìƒëµí•  ìˆ˜ ìˆë‹¤.
```js
(function(){})()
```

<br/>

## ì½œë°±í•¨ìˆ˜(í•¨ìˆ˜ ìœ„ì„)
ì¸ìë¡œ í•¨ìˆ˜ë¥¼ ë°›ê³ , í•¨ìˆ˜ì˜ í˜¸ì¶œì„ ìœ„ì„í•˜ëŠ” ê²ƒì´ë‹¤.

```js
function foo(x) { // í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë°›ìŒ.
	x();
	return fuction() {
	}; // ê°’ìœ¼ë¡œì„œ return í•˜ë‹ˆ í•¨ìˆ˜ ì •ì˜ ì‹ (ì´ë¦„ ìƒëµ ê°€ëŠ¥)
}

const y = foo(function () {
})
```

í•¨ìˆ˜ â‡’ ì½”ë“œë¥¼ ë¬¶ì–´ë†“ì€ ê°’.

<br/>

## í™”ì‚´í‘œ í•¨ìˆ˜

es6ì´í›„ ë¶€í„° ë“±ì¥í•œ í•¨ìˆ˜ ì„ ì–¸ ë°©ì‹

```js
const foo = function foo() {
	foo(); // ì¬ê·€ í˜¸ì¶œì„ í•  ë•ŒëŠ” function foo()ë¥¼ í˜¸ì¶œí•¨.
};
```
ìœ„ì˜ êµ¬ì¡°ë¥¼ ì•„ë˜ì™€ ê°™ì´ ì“¸ ìˆ˜ ìˆë‹¤.

í™”ì‚´í‘œ í•¨ìˆ˜ì˜ `this`ëŠ” ë™ì  ë°”ì¸ë”© ë˜ëŠ” ì¼ë°˜í•¨ìˆ˜ì™€ ë‹¬ë¦¬ **ìƒìœ„ ìŠ¤ì½”í”„ì˜ this**ë¥¼ ê°€ë¦¬í‚¨ë‹¤. 

```js
const bar = () => {}
```

## (í‘œí˜„)ë¬¸ê³¼ (ì •ì˜)ì‹
jsë¬¸ë²•ì€ í¬ê²Œ ì‹/ë¬¸ ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.
ì½”ë“œë¥¼ ì‹¤í–‰ í–ˆì„ ë•Œ ê°’ìœ¼ë¡œ ë§ˆë¬´ë¦¬ ë˜ë©´ ì‹

; â‡’ ì‹ì˜ ë§ˆë¬´ë¦¬

```js
0;
1 + 10;
foo(); // return undifinded ë°›ìœ¼ë‹ˆ ì‹
```


ë¬¸ì—ëŠ” **ifë¬¸**, **ë°˜ë³µë¬¸**ì´ ìˆë‹¤. ë¬¸ ë’¤ì—ëŠ” ;ë¥¼ ë¶™ì´ì§€ ì•ŠëŠ”ë‹¤.

```js
if() {}

while() {}
```

## new ì—°ì‚°ì
new ì—°ì‚°ìë¡œ í˜¸ì¶œí•˜ê²Œ ë˜ë©´ ë¹ˆê°ì²´ë¥¼ ë§Œë“ ë‹¤.

í•¨ìˆ˜ì—ê²Œ ë¹ˆê°ì²´ë¥¼ ì „ë‹¬í•˜ê³  ë¹ˆê°ì²´ëŠ” thisë¡œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤.
ë‚´ë¶€ìƒ ë§¤ì»¤ë‹ˆì¦˜ì€ **í”„ë¡œí† íƒ€ì…**ìœ¼ë¡œ ë™ì‘í•œë‹¤.

```js
const x = 10; // ë¶ˆë³€ì˜ ì†ì„±
const y = () => 10; // ê°€ë³€ì„ í•  ìˆ˜ ìˆìŒ // í•œì¤„ í•¨ìˆ˜
```

```js
const a = {};
a.name = ''; // ë™ì  ë°”ì¸ë”©

console.log(a); // {name:''}

function foo() {
	this.ab = 10; // new ì—°ì‚°ìë¥¼ í†µí•´ ë°›ì€ ë¹ˆê°ì²´ë¥¼ ë°›ìŒ. ë¹ˆê°ì²´ì— ë™ì  ë°”ì¸ë”©
}

const y = new foo(); //ì¸ìŠ¤í„´ìŠ¤ ê°ì²´. ê°ì²´ í˜•íƒœë¥¼ ìœ„ì„

y instanceof foo // true.
```

<br/>

## Class
ES6ì— ë“±ì¥í•œ ê°œë…ì´ë‹¤. ClassëŠ” ë‚´ë¶€ì ìœ¼ë¡œëŠ” í•¨ìˆ˜ë¡œ ë˜ì–´ìˆë‹¤.

```js
function foo() {
	this.name();
}

class bar {
	constuctor() {
		this.name = 10;
	}
}
```
`foo`, `bar` ê°ì²´ë¥¼ ì •ì˜í•˜ê³  ê°™ì€ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ ë‚¸ë‹¤. í•˜ì§€ë§Œ ì•„ë˜ì™€ ê°™ì€ ì°¨ì´ë¥¼ ê°€ì§€ê³  ìˆë‹¤.
- foo(ì¼ë°˜ í•¨ìˆ˜) â†’ new ì—°ì‚°ì ì—†ì´ í˜¸ì¶œ ê°€ëŠ¥. newë¥¼ ê°•ì œ í•  ìˆ˜ ì—†ìŒ.
- bar(Class) â†’ newë¥¼ ê°•ì œ í•  ìˆ˜ ìˆìŒ.

`new`ë¥¼ ê°•ì œí•´ì•¼ í•œë‹¤ë©´ Classë¬¸ë²•ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

## this
í•¨ìˆ˜ëŠ” ì‹¤í–‰ë˜ëŠ” ìˆœê°„ ì†Œìœ ìë¥¼ í™•ì¸í•œë‹¤.
`this`ëŠ” ì†Œìœ ìì— ë”°ë¼ ë™ì  ë°”ì¸ë”©ëœë‹¤.

```js
const person = {
	name: 'kim',
	getName() {
		return this.name;
	}
} 

console.log(person.getName()); //ì‹¤í–‰ë˜ëŠ”ìˆœê°„ ì†Œìœ ìë¥¼ í™•ì¸ (í˜¸ì¶œì = person)
```

ì†Œìœ ìê°€ ë²—ê²¨ì € ì˜ë„í•œ ëŒ€ë¡œ `this` ê°€ ë™ì‘í•˜ì§€ ì•ŠëŠ” ìƒí™©ì´ ìƒê¸¸ ìˆ˜ ìˆë‹¤.
javascriptì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ `this`ëŠ” window ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤. 

```js
const man = person.getName;

man(); 
// ì†Œìœ ìê°€ ë²—ê²¨ì§
// ì‹¤í–‰ë˜ëŠ” ìˆœê°„ í˜¸ì¶œìë¥¼ í™•ì¸ => í˜¸ì¶œìê°€ ì—†ìŒ. => í˜¸ì¶œìê°€ ì—†ìœ¼ë©´ ì „ì—­(window)ê°ì²´ë¥¼ í˜¸ì¶œìë¡œ ë°”ë¼ë´„
```

ì½œë°± í•¨ìˆ˜ë¡œ ë„˜ê¸°ê²Œ ë˜ë©´ ì†Œìœ ìê°€ ë²—ê²¨ì§„ë‹¤.
ëŒ€í‘œì ì¸ ì˜ˆë¡œ ì´ë²¤íŠ¸ ë“±ë¡ ì‹œ ë„˜ê¸°ëŠ” ì´ë²¤íŠ¸ ì½œë°± í•¨ìˆ˜ì˜ thisëŠ” ì „ì—­(window)ê°ì²´ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
```js
// -----
button.addEventListener('click', person.getName);  
// ì½œë°±. í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì£¼ë©´ì„œ ì†Œìœ ìê°€ ë²—ê²¨ì§. this => ì „ì—­ê°ì²´
```

`bind`, `call`, `apply`ë¥¼ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìê°€ ì˜ë„í•œëŒ€ë¡œ `this`ë¥¼ í• ë‹¹í•´ ì¤„ ìˆ˜ ìˆë‹¤.

```js
button.addEventListener('click', person.getName.bind(person)); 
// bind ì•ˆì— ê°ì²´ë¥¼ thisë¡œ ë„˜ê²¨ì¤Œ

person.getName.call(person) // í˜¸ì¶œ ì‹œ thisê°€ ë  ê°ì²´ë¥¼ ë°›ìŒ
```

## closure

í•¨ìˆ˜ fooê°€ í˜¸ì¶œë˜ë©´ ìŠ¤ì½”í”„ê°€ ë²—ê²¨ì§ì— ë”°ë¼ í•¨ìˆ˜ ì•ˆì˜ ë³€ìˆ˜(x)ëŠ” ì‚¬ë¼ì§€ì§€ë§Œ í•¨ìˆ˜ barì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥ë˜ì–´ barì—ì„œ xë³€ìˆ˜ì˜ ê°’ì„ ì•Œ ìˆ˜ ìˆë‹¤.

```js
function foo(x) {
	return function bar() {
		return x;
	}
}

const f = foo(10);
console.log(f());
```

ì•„ë˜ì™€ ê°™ì´ ë¦¬í„°ëŸ´ ë°©ì‹ì˜ ê°ì²´ë¥¼ ì„ ì–¸í•˜ë©´ ê°ì²´ ì•ˆì˜ ë³€ìˆ˜ê°€ ë°”ë€ŒëŠ” ê²ƒì„ ë§‰ì„ ìˆ˜ ì—†ë‹¤.
```js
const person = {
	age : 10,
}

person.age = 500; 
```
í´ë¡œì €ë¡œ ê°ì²´ ì•ˆì˜ ë‚´ìš©ì„ ì€ë‹‰í•  ìˆ˜ ìˆë‹¤.
``` js
function makePerson() {
	let age = 10;
	
	return {
		getAge() {
			return age;
		},
		setAge(x) {
			return age;
		}
}

let p = makePerson();
// í˜¸ì¶œí•˜ëŠ” ìˆœê°„ makePersonì˜ ìŠ¤ì½”í”„ê°€ ë²—ê²¨ì§€ê³ , ì•ˆì— í•¨ìˆ˜ì— ageê°’ì´ ìº¡ì³ë¨.
console.log(p.getAge());	
```

## ë¹„ë™ê¸°
javascriptëŠ” ì‹±ê¸€ìŠ¤ë ˆë“œì´ê¸° ë•Œë¬¸ì— íŠ¹ì • ë™ì‘ì„ ì‹¤í–‰í•˜ëŠ” ë™ì•ˆ ë¸”ë¡ì´ ìƒê²¨ ì§€ì—°ëœë‹¤.

### Promise
PromiseëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¹„ë™ê¸° ì²˜ë¦¬ì— ì‚¬ìš©ë˜ëŠ” ê°ì²´ì´ë‹¤. 

Promise ì´ì „ì— ë³´í†µ ì½œë°±í•¨ìˆ˜ë¥¼ í†µí•´ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ í–ˆì—ˆë‹¤.
ì•„ë˜ì™€ ê°™ì´ ì½”ë“œì˜ depthê°€ ê¹Šì–´ì§€ê³ , ì˜ˆì™¸ì²˜ë¦¬ê°€ ê³¤ë€í•´ì§€ëŠ” ê²½ìš°ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
```js
setTimeout(function (x) {
	console.log('foo');
	setTimeout(function(y) {
	  console.log('bar');
	}, 2000);
}, 1000); //ì½œë°±ìœ¼ë¡œ ë„˜ê²¨ì¤Œ. 1ì´ˆ í›„ì— ì‹¤í–‰ í›„ ë˜ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì•¼ í•¨

// ì´ë ‡ê²Œ ì½œë°±ì´ ê¸¸ì–´ì§€ë©´ ì½œë°±ì§€ì˜¥... 
```

Promiseë¥¼ ì‚¬ìš©í•˜ë©´ ì´ëŸ° ì½œë°±íŒ¨í„´ì´ ê°€ì§„ ë‹´ì ì„ ë³´ì™„í•˜ê³  ë¹„ë™ê¸° ì²˜ë¦¬ ì‹œì ì„ ëª…í™•í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.
Primiseê°ì²´ëŠ” ì¸ìë¡œ `resolve`, `reject` í•¨ìˆ˜ë¥¼ ë°›ëŠ”ë‹¤.
- resolve â†’ ì„±ê³µ. thenì— ì…ë ¥ëœ í•¨ìˆ˜ë¥¼ í˜¸ì¶œ
- reject â†’ ì‹¤íŒ¨. catchì— ì…ë ¥ëœ í•¨ìˆ˜ í˜¸ì¶œ

```js
const p1 = new Promise((resolve, reject) => {
	setTimeout(() => { //apië¼ ê°€ì •
		resolve('ì‘ë‹µ'); // resolveì‘ë‹µ ì¶œë ¥
	}, 1000);
	resolve();
	reject();
	// 
}); // promiseë¼ëŠ” ë‚´ì¥ê°ì²´ë¥¼ ì¸ìŠ¤í„´ìŠ¤í™” í•¨..

const p2 = new Promise((resolve, reject) => {
	setTimeout(() => { //apië¼ ê°€ì •
			resolve('ì‘ë‹µ2'); // resolveì‘ë‹µ ì¶œë ¥
	}, 1000);
}); 

//thení•¨ìˆ˜ë¥¼ ë‚´ì¥í•˜ê³  ìˆìŒ.
p1.then(p2)
	.then(function(r) {
		console.log('resolve' + r) ;
	})
	.catch(function(){
	})
```

### async, await (ë°±ê·¸ë¼ìš´ë“œ = Promise)
aysncëŠ” ë¹„ë™ê¸° í•¨ìˆ˜. ë™ê¸°ì‹ ì½”ë“œë¥¼ ì§œë“¯ì´ ë¹„ë™ê¸°ì‹ ì½”ë“œë¥¼ ì§¤ ìˆ˜ ìˆë‹¤.

aysncí•¨ìˆ˜ ë‚´ì—ì„œ awaitë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
awaitd ì‚¬ìš© ì‹œ resolveê°€ ì‹¤í–‰ë¼ì„œ ë§ˆë¬´ë¦¬ê°€ ë  ë•Œê¹Œì§€ ë‹¤ìŒ ì¤„ë¡œ ë„˜ì–´ê°€ì§€ ì•ŠëŠ”ë‹¤.


```js
const delay = ms => new Promise(resolve => setTimeout(resolve, ms); // ì§€ì—°ì‹œí‚¤ëŠ” ë°©ë²•
//delayë¥¼ ì‹¤í–‰í•˜ë©´ promiseê°ì²´ ë°˜í™˜

async function main() {
	console.log('1');
	try {
		const x = await delay(2000); // 2ì´ˆ ë™ì•ˆ ì§€ì—° ì‹œí‚´
	}catch(e) {
		//rejectê°€ ë°œìƒí•˜ë©´ catchì— ì¡í˜
	}
	
	console.log('2');
}

main(); 
```


<br/>


## í•¨ìˆ˜ ê´€ë ¨ ì°¸ê³ í•˜ë©´ ì¢‹ì„ ê°•ì‚¬ë‹˜ì˜ ê¸€

- [í”„ë¡œê·¸ë˜ë°â€Š-â€Šë‹¨ìˆœí•œ ê¸°ëŠ¥, ê¸°ëŠ¥ì˜ ê²°í•©, ì˜ë¯¸ì˜ ë¶€ì—¬](https://medium.com/ibare-story/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D-%EB%8B%A8%EC%88%9C%ED%95%9C-%EA%B8%B0%EB%8A%A5-%EA%B8%B0%EB%8A%A5%EC%9D%98-%EA%B2%B0%ED%95%A9-%EC%9D%98%EB%AF%B8%EC%9D%98-%EB%B6%80%EC%97%AC-1d4ab9d59415)
- [ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í•¨ìˆ˜](https://medium.com/ibare-story/e252506f8525)

---
<br/>

# <a name="Reduxë¥¼ë§Œë“¤ì–´ë³´ì">Redux</a>

### Reduxë¥¼ ì§ì ‘ ë§Œë“¤ì–´ë³´ì([ì˜ˆì œ ë§í¬](https://gist.github.com/ibare/1ed63de0c09c94a7ac79713d57b80f8d))

## ê·œì¹™

- ì•±í•˜ë‚˜ì— store í•˜ë‚˜ ë§Œë“¦. (ì—¬ëŸ¬ê°œ ë§Œë“¤ ìˆ˜ ìˆì§€ë§Œ í†µìƒì ìœ¼ë¡œ)
- storeëŠ”  ë°‘ìœ¼ë¡œ í˜ëŸ¬ê°€ëŠ” ë°ì´í„°ê´€ë¦¬.
- ì»´í¬ë„ŒíŠ¸ê°€ storeì˜ ìƒíƒœë¥¼ ìˆ˜ì •í•  ìˆ˜ ì—†ìŒ. immutableí•œ ìƒíƒœì—¬ì•¼ í•¨.
- ì»´í¬ë„ŒíŠ¸ê°€ storeìƒíƒœë¥¼ ë°”ê¾¸ë ¤ë©´ reduxì— reducer ì½œë°±ìœ¼ë¡œ ë„˜ê²¨ì¤Œ
    - reducer ì•ˆì—ì„œ ìƒíƒœ ì—…ë°ì´íŠ¸.
    - reducerê°€ í˜¸ì¶œë  ë•Œ í˜„ì¬ ìƒíƒœë¥¼ ë„˜ê²¨ì¤Œ.
- reduxì—ì„œ ìƒíƒœë¥¼ ë°”ê¾¸ëŠ”ê²ƒì„ reducer í•¨ìˆ˜ë¡œ í•¨.


### `createStore`ë¥¼ ì‚´í´ë³´ì.
stateëŠ” returnìœ¼ë¡œ ë°˜í™˜í•œ í•¨ìˆ˜ ì´ì™¸ì— ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥ í•˜ë‹¤. (í´ë¡œì €ë¡œ ë°ì´í„° ë³´í˜¸) 
ui ì»´í¬ë„ŒíŠ¸ì—ì„œ actionì„ ë˜ì§€ëŠ” í–‰ìœ„ë¥¼ `dispatch`ë¡œ í•œë‹¤.
`dispatch`ë¡œ `subscribe`ë¥¼ í†µí•´ ë“±ë¡ëœ í•¨ìˆ˜ë¥¼ ì°¨ë¡€ë¡œ ì‹¤í–‰í•œë‹¤.
```js
//redux.js
export function createStore(reducer) {
  let state; //í´ë¡œì €ë¡œ ë°ì´í„°ë¥¼ ë³´í˜¸
  const listeners = [];
  const getState = () => ({...state}); 
  // jsëŠ” ì°¸ì¡° ë³µì‚¬, ê·¸ëŒ€ë¡œ ë‚´ë³´ë‚´ê³  ì™¸ë¶€ì—ì„œ ë³€ê²½í•˜ë©´ ê·¸ëŒ€ë¡œ ë‚´ë¶€ ê°ì²´ê°€ ë³€ê²½ë¨
  
  const dispatch = (action) => {
    state = reducer(state, action);
    listeners.forEach(fn => fn());
  };//ui ì»´í¬ë„ŒíŠ¸ì—ì„œ actionì„ ë˜ì§€ëŠ” í–‰ìœ„ë¥¼ dispatchë¡œ í•¨

  const subscribe = (fn) => {
    listeners.push(fn)
  }

  // store ê°€ ë³€ê²½ ë¨ì„ ì•Œë ¤ì•¼ í•¨
  return {
    getState,
    dispatch,
    subscribe,
  };
}
```

### UIì»´í¬ë„ŒíŠ¸ ì½”ë“œë¥¼ ì‚´í´ë³´ì.
createStoreë¥¼ í†µí•´ storeê°ì²´ë¥¼ ë°›ê³ , storeì˜ ìƒíƒœê°€ ì—…ë°ì´íŠ¸ ëì„ ë•Œ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” í•¨ìˆ˜ë¥¼ `subscribe`í•¨ìˆ˜ë¥¼ í†µí•´ ë„˜ê²¨ì¤€ë‹¤(êµ¬ë…).

`reducer`ë¥¼ í†µí•´ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸ ì‹œí‚¨ë‹¤.
`reducer`ì—ì„œëŠ” **ê°ì²´ ë¶ˆë³€ì„±ì„**ë³´ì¥ì„ ìœ„í•´ í•­ìƒ ìƒˆë¡œìš´ ê°ì²´ë¥¼ return í•´ì¤˜ì•¼í•œë‹¤. (reduxì—ì„œ ì•½ì†ğŸ¤™)
```js
//index.js. ì»´í¬ë„ŒíŠ¸ ì—­í• 
import { createStore } from "./redux.js";

const INCREMENT = 'increment'; // action type;
const RESET = "reset";

function reducer(state = {}, action) {
  if(action.type === INCREMENT) {
    return {
      ...state,
      count: state.count? state.count + 1: 1
    } // í•­ìƒ ìƒˆë¡œìš´ ê°ì²´ë¥¼ returnì„ í•´ì¤˜ì•¼ í•¨. reduxì•½ì†
  } else if (action.type === RESET) {
    return {
      ...state,
      count: action.resutCount,
    }
  }

  return state;
}

const store = createStore(reducer);

function update() {
  //ì´ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ reduxì— store ë³€ê²½ì´ ì¼ì–´ë‚œê²ƒ,
  console.log(store.getState());

}

store.subscribe(update);

function actionCreater(type, data) {
  return {
    ...data,
    type,
  }
} // action type ìƒì„±

function increment() {
  store.dispatch(actionCreater(INCREMENT));
}

function reset() {
  store.dispatch(actionCreater(RESET, {resutCount: 10}))
}

increment();
reset();
```

<br/>
---

<p style="color:grey">
í•´ë‹¹ í¬ìŠ¤íŒ…ì€ <b>ìš°ì•„í•œ í…Œí¬ëŸ¬ë‹3ê¸° React&TypeScript</b> ê°•ì˜ë¥¼ ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.
</p>