---
layout: post
title: "Docker"
date: 2020-09-06
author: Eunbi
tags: docker
cover: "https://media.vlpt.us/post-images/kameals/bc8ff850-3837-11ea-ba70-85c443269637/1ovRuAuqPf4r2xpiWh71rUg.png"
---
> # Docker?

DockerëŠ” ì†Œí”„íŠ¸ì›¨ì–´ë¥¼Â **ì»¨í…Œì´ë„ˆ**ë¼ëŠ” í‘œì¤€í™”ëœ ìœ ë‹›ìœ¼ë¡œ íŒ¨í‚¤ì§• í•  ìˆ˜ ìˆëŠ” ë„êµ¬

- ë¦¬ëˆ…ìŠ¤ ìƒì—ì„œ ì»¨í…Œì´ë„ˆ ë°©ì‹ìœ¼ë¡œ í”„ë¡œì„¸ìŠ¤ë¥¼ ê²©ë¦¬í•´ì„œ ì‹¤í–‰í•˜ê³  ê´€ë¦¬
- ê³„ì¸µí™”ëœ íŒŒì¼ ì‹œìŠ¤í…œì— ê¸°ë°˜í•´ íš¨ìœ¨ì ìœ¼ë¡œ ì´ë¯¸ì§€(í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ í™˜ê²½)ì„ êµ¬ì¶•
- íŠ¹ì • ì»¨í…Œì´ë„ˆì˜ ìƒíƒœë¥¼ ë³€ê²½í•´ ì´ë¯¸ì§€ ìƒì„± ê°€ëŠ¥

### **Dockerë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ **

ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í™˜ê²½ì— êµ¬ì•  ë°›ì§€ ì•Šê³  ì‹¤í–‰ê°€ëŠ¥

<br/>

> ## Docker ì„¤ì¹˜

ì €ëŠ” ìš°ë¶„íˆ¬ í™˜ê²½ì—ì„œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

```bash
~$ sudo yum -y install docker
```

ë²„ì „í™•ì¸

```bash
~$ docker -v
```

> ## Docker ì´ë¯¸ì§€ ë°›ì•„ì˜¤ê¸°

**ì´ë¯¸ì§€**ëŠ” ì–´ë–¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•œ í™˜ê²½ì…ë‹ˆë‹¤.

ì´ë¯¸ì§€ë¥¼ pull ëª…ë ¹ì–´ë¥¼ í†µí•´ dockerhub ì— ìˆëŠ” ì´ë¯¸ì§€ë¥¼ ë°›ì•„ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
~$ docker pull [ì €ì¥ì†Œ ì´ë¦„]:[íƒœê·¸ëª…]
```

### **[Docker hub > centos](https://hub.docker.com/_/centos?tab=tags) ì—ì„œ ì´ë¯¸ì§€ë¥¼ ë°›ì•„ì˜¤ê¸°**

```bash
~$ docker pull centos:latest
```

### **Docker ì´ë¯¸ì§€ í™•ì¸**

í•´ë‹¹ ëª…ë ¹ì–´ë¥¼ í†µí•´ í˜„ì¬ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì´ë¯¸ì§€ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.

```bash
~$ docker images
REPOSITORY TAG IMAGE ID CREATED SIZE
centos latest 0d120b6ccaa8 3 weeks ago 215MB
```
<br/>

> ## ì´ë¯¸ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í”„ë¡œì„¸ìŠ¤ ì‹œì‘í•˜ê¸°

```bash
docker run -it [ì €ì¥ì†Œ ì´ë¦„]:[íƒœê·¸ëª…] [ì»¤ë§¨ë“œ]
```

### **ìœ„ì—ì„œ ë°›ì•„ì˜¨ centos ì´ë¯¸ì§€ì—ì„œ bash ì‹¤í–‰**

```bash
~$ docker run -it centos:latest bash
[root@d40d7eadb298 /]# cat /etc/redhat-release
CentOS Linux release 8.2.2004 (Core)
```

psëª…ë ¹ì–´ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ ì¤‘ì„ì„ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
~$ docker ps
CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES
d40d7eadb298 centos:latest "bash" About a minute ago Up About a minute vibrant_blackwell
```

<br/>

> ## Docker ì´ë¯¸ì§€ ìƒì„±í•´ë³´ê¸°

centos í™˜ê²½ + gcc, gcc+ ì„¤ì¹˜í•˜ëŠ” ì´ë¯¸ì§€ë¥¼ ìƒì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.

### **í´ë” ë§Œë“¤ê¸°**

```bash
~$ mkdir centos_gcc
~$ cd centos_gcc
```

### **Dockerfile ìƒì„±**

```bash
~/centos_gcc$ vi Dockerfile

FROM centos:6
RUN yum -y install gcc \
&& yum -y install gcc-c++
ENTRYPOINT ["/bin/bash"]
```

### **Dockerfileë¡œ ì´ë¯¸ì§€ ë¹Œë“œí•˜ê¸°**

```bash
~/centos_gcc$ docker build -t centos:gcc .
```

ë¹Œë“œ í›„ images ëª…ë ¹ì–´ë¥¼ í†µí•´ ìƒì„±ëœê±¸ í™•ì¸ í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
~$ docker images
REPOSITORY TAG IMAGE ID CREATED SIZE
centos gcc 32da4757a949 13 seconds ago 640MB
```

ìƒì„±í•œ ì´ë¯¸ì§€ë¥¼ í†µí•´ ì»¨ë°ì´ë„ˆë¥¼ ì‹¤í–‰í•´ ë´…ì‹œë‹¤. gccë„ ì˜ ì„¤ì¹˜ëœê±¸ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
~$ docker run -it centos:gcc
bash-4.1#
bash-4.1# gcc --version
gcc (GCC) 4.4.7 20120313 (Red Hat 4.4.7-23)
```

<br/>

> ## Docker Hub ì— ì˜¬ë¦¬ê¸°

dockerê³„ì •ì´ ìˆë‹¤ëŠ” í•˜ì— ì§„í–‰

[docker](https://hub.docker.com/repository/docker/nethrueunbi/centos)ì ‘ì†í•´ì„œ ë¡œê·¸ì¸ í•˜ê³  **reporsitoryë¥¼ ìƒì„±**í•´ì¤ë‹ˆë‹¤.ìƒì„± í›„ í•´ë‹¹ repositoryë¥¼ ë“¤ì–´ê°€ë³´ë©´ **Docker Commands** ì˜ì—­ì—docker push ê³„ì •ì´ë¦„/ì €ì¥ì†Œ ëª…:tagname ì´ë ‡ê²Œ pushí•˜ë¼ê³  ì¹œì ˆí•˜ê²Œ ë³´ì…ë‹ˆë‹¤.

### **Docker ê³„ì • ì—°ê²°í•˜ê¸°**

ì»¤ë§¨ë“œë¡œ ëŒì•„ì™€ docker ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ í•©ë‹ˆë‹¤

```bash
~$ docker login
Login with your Docker ID to push and pull images from Docker Hub. If you don't have a Docker ID, head over to https://hub.docker.com to create one.
Username:
Password:
WARNING! Your password will be stored unencrypted in /home/ubuntu/.docker/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credentials-store
Login Succeeded
```

### **Dockerfile ì´ë¯¸ì§€ ìƒì„±**

ìœ„ì—ì„œ ìƒì„±í•œ Dockerfileë¡œ docker hubì— ìƒì„±í•œ repository ì´ë¦„ê³¼ repositoryì— ì˜¬ë¼ê°ˆ íƒœê·¸ì´ë¦„ìœ¼ë¡œ ë¹Œë“œë¥¼ ëŒë ¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

```bash
$ docker build -t [ì €ì¥ì†Œ ì´ë¦„]/centos:gcc .
```

images ëª…ë ¹ì–´ë¥¼ í†µí•´ ì´ë¯¸ì§€ê°€ ìƒì„±ëìŒì„ í™•ì¸í•©ë‹ˆë‹¤

```bash
$ docker images
REPOSITORY TAG IMAGE ID CREATED SIZE
[ì €ì¥ì†Œ ì´ë¦„]/centos gcc 32da4757a949 About an hour ago 640MB
```

ì´ì œ í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ Docker hubì— ì˜¬ë ¤ì£¼ë©´ ë

```bash
docker push nethrueunbi/centos:gcc
```

Docker Hubì— ë“¤ì–´ê°€ ì •ìƒì ìœ¼ë¡œ ì˜¬ë¼ê°”ëŠ”ì§€ í™•ì¸ í•˜ë©´

![ë„ì»¤í—ˆë¸Œ ì„±ê³µ](/assets/img/docker-hub.png)
ëì…ë‹ˆë‹¤ ğŸ‘ğŸ‘ğŸ‘

<br/>

> # ì´ë¯¸ì§€&ì»¨í…Œì´ë„ˆ í•œë²ˆì— ì§€ìš°ê¸°

í…ŒìŠ¤íŠ¸ë¥¼ ì—¬ëŸ¬ë²ˆ í•˜ë‹¤ë³´ë©´ ì´ë¯¸ì§€ë‚˜ ì»¨í…Œì´ë„ˆê°€ ë§ì´ ìŒ“ì´ê³  í•˜ë‚˜í•˜ë‚˜ ì§€ìš°ë ¤ë‹ˆ ë²ˆê±°ë¡­ìŠµë‹ˆë‹¤..
ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ í•œë²ˆì— ì§€ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ì»¨í…Œì´ë„ˆ í•œë²ˆì— ì§€ìš°ê¸°

```bash
$ docker stop $(docker ps -a -q)
$ docker rm $(docker ps -a -q)
```

## ì´ë¯¸ì§€ í•œë²ˆì— ì§€ìš°ê¸°

```bash
$ docker rmi $(docker images -q)
```

<br/>

> ì°¸ê³ 

[https://www.44bits.io/ko/post/easy-deploy-with-docker](https://www.44bits.io/ko/post/easy-deploy-with-docker)

[https://snowdeer.github.io/docker/2018/02/14/docker-push-image-to-docker-hub/](https://snowdeer.github.io/docker/2018/02/14/docker-push-image-to-docker-hub/)

[https://countryxide.tistory.com/86](https://countryxide.tistory.com/86)